
* Intro

This repo includes two Docker builds:

- A postgres container with barman streaming and rsync/ssh support.
- A barman container with sshd.

In the examples, it shows the following features:

- The barman container can backup more than one postgres servers.
- Both streaming and rsync/ssh strateties are supported.

* How to run the example

- Run buildBoth.bat (windows only) to build both images from 'barman' and 'postgres'.
- cd examples, and run `docker-compose up -d`

If you want to restore, cp the docker-compose.or.yaml to docker-compose.override.yaml to bring postgres container into recovery mode:

#+BEGIN_SRC bash
cd examples
docker-compose down
cp docker-compose.or.yaml docker-compose.override.yaml
docker-compose up
#+END_SRC

* Issues and PR's are hotly welcomed!

* Previous artworks

https://github.com/tbeadle/postgres/blob/master/barman/image-pre-start.d/01_update_postgresql.conf.sh



